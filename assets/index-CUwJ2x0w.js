import{d as L,r as b,A as M,e as C,j as e,b as s,a as n,k as r,F as S,f as j,q as u,t as m,J as _,I as q,o as V,c as J,m as O,L as H}from"./index-Zp6JxZeZ.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Q={class:"data-container"},R={class:"data-section"},W={class:"storage-info"},X={class:"storage-details"},Y={class:"storage-stats"},Z={class:"data-section"},ee={class:"action-buttons"},te={class:"dialog-footer"},ae=L({__name:"index",setup(se){const T=b("storage"),x=b([{name:"系统存储",used:"2.3TB",total:"5TB",usagePercentage:46},{name:"用户存储",used:"3.7TB",total:"8TB",usagePercentage:46},{name:"应用存储",used:"8.1TB",total:"10TB",usagePercentage:81},{name:"备份存储",used:"12.5TB",total:"20TB",usagePercentage:63},{name:"归档存储",used:"35.8TB",total:"50TB",usagePercentage:72}]),i=b([{id:1,name:"系统配置备份",source:"/data/system",destination:"/backup/system",size:"500GB",status:"已完成",progress:100},{id:2,name:"用户数据镜像",source:"/data/users",destination:"/data/mirror",size:"320GB",status:"进行中",progress:68},{id:3,name:"日志归档",source:"/logs/current",destination:"/archive/logs",size:"150GB",status:"暂停中",progress:0},{id:4,name:"数据库备份",source:"/data/database",destination:"/backup/database",size:"1.2TB",status:"进行中",progress:45},{id:5,name:"应用数据同步",source:"/data/apps",destination:"/data/apps-backup",size:"750GB",status:"已完成",progress:100},{id:6,name:"配置文件迁移",source:"/config/old",destination:"/config/new",size:"50GB",status:"进行中",progress:82}]),w=o=>o<70?"#67C23A":o<90?"#E6A23C":"#F56C6C",P=o=>{switch(o){case"已完成":return"success";case"暂停中":return"primary";case"进行中":return"info";case"失败":return"danger";default:return"info"}},c=b(!1),l=M({name:"",source:"",destination:"",size:""}),$=()=>{const o=i.value.length+1;i.value.push({id:o,name:l.name,source:l.source,destination:l.destination,size:l.size,status:"暂停中",progress:0}),_.success("已添加传输任务"),c.value=!1,l.name="",l.source="",l.destination="",l.size=""},D=o=>{if(o.status==="暂停中"){if(o.status="进行中",_.info(`继续任务: ${o.name}`),o.progress<100){const t=setInterval(()=>{o.progress+=1,o.progress>=100&&(o.progress=100,o.status="已完成",clearInterval(t))},2e3)}}else o.status="暂停中",_.success(`已暂停任务: ${o.name}`)},G=o=>{q.confirm(`确认删除任务"${o.name}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const t=i.value.findIndex(v=>v.id===o.id);t!==-1&&(i.value.splice(t,1),_.success("删除成功"))}).catch(()=>{_.info("已取消删除")})};return(o,t)=>{const v=n("el-icon"),y=n("el-progress"),z=n("el-card"),I=n("el-col"),U=n("el-row"),k=n("el-tab-pane"),d=n("el-table-column"),h=n("el-tag"),p=n("el-button"),A=n("el-table"),E=n("el-tabs"),f=n("el-input"),g=n("el-form-item"),F=n("el-form"),N=n("el-dialog");return V(),C("div",Q,[e(z,{class:"data-card"},{header:s(()=>t[8]||(t[8]=[r("div",{class:"card-header"},[r("h2",null,"数据管理")],-1)])),default:s(()=>[e(E,{modelValue:T.value,"onUpdate:modelValue":t[1]||(t[1]=a=>T.value=a)},{default:s(()=>[e(k,{label:"存储数据",name:"storage"},{default:s(()=>[r("div",R,[e(U,{gutter:20},{default:s(()=>[(V(!0),C(S,null,j(x.value,(a,B)=>(V(),J(I,{span:8,key:B},{default:s(()=>[e(z,{class:"storage-card"},{default:s(()=>[r("div",W,[e(v,{size:40,class:"storage-icon"},{default:s(()=>[e(O(H))]),_:1}),r("div",X,[r("h3",null,m(a.name),1),r("div",Y,[e(y,{percentage:a.usagePercentage,color:w(a.usagePercentage)},null,8,["percentage","color"]),r("span",null,"已用空间: "+m(a.used)+" / "+m(a.total),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),_:1}),e(k,{label:"数据传输",name:"transfer"},{default:s(()=>[r("div",Z,[e(A,{data:i.value,style:{width:"100%"}},{default:s(()=>[e(d,{prop:"id",label:"ID",width:"80"}),e(d,{prop:"name",label:"任务名称"}),e(d,{prop:"source",label:"源位置"}),e(d,{prop:"destination",label:"目标位置"}),e(d,{prop:"size",label:"数据大小"}),e(d,{prop:"status",label:"状态"},{default:s(a=>[e(h,{type:P(a.row.status)},{default:s(()=>[u(m(a.row.status),1)]),_:2},1032,["type"])]),_:1}),e(d,{prop:"progress",label:"进度"},{default:s(a=>[e(y,{percentage:a.row.progress},null,8,["percentage"])]),_:1}),e(d,{label:"操作"},{default:s(a=>[e(p,{size:"small",type:"primary",disabled:a.row.status==="已完成",onClick:B=>D(a.row)},{default:s(()=>[u(m(a.row.status==="暂停中"?"继续":"暂停"),1)]),_:2},1032,["disabled","onClick"]),e(p,{size:"small",type:"danger",onClick:B=>G(a.row)},{default:s(()=>t[9]||(t[9]=[u("删除")])),_:2,__:[9]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),r("div",ee,[e(p,{type:"primary",onClick:t[0]||(t[0]=a=>c.value=!0)},{default:s(()=>t[10]||(t[10]=[u(" 添加数据传输任务 ")])),_:1,__:[10]})])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(N,{modelValue:c.value,"onUpdate:modelValue":t[7]||(t[7]=a=>c.value=a),title:"添加数据传输任务",width:"500px"},{footer:s(()=>[r("span",te,[e(p,{onClick:t[6]||(t[6]=a=>c.value=!1)},{default:s(()=>t[11]||(t[11]=[u("取消")])),_:1,__:[11]}),e(p,{type:"primary",onClick:$},{default:s(()=>t[12]||(t[12]=[u("确定")])),_:1,__:[12]})])]),default:s(()=>[e(F,{ref:"transferForm",model:l,"label-width":"120px"},{default:s(()=>[e(g,{label:"任务名称",prop:"name"},{default:s(()=>[e(f,{modelValue:l.name,"onUpdate:modelValue":t[2]||(t[2]=a=>l.name=a),placeholder:"请输入任务名称"},null,8,["modelValue"])]),_:1}),e(g,{label:"源位置",prop:"source"},{default:s(()=>[e(f,{modelValue:l.source,"onUpdate:modelValue":t[3]||(t[3]=a=>l.source=a),placeholder:"请输入源位置"},null,8,["modelValue"])]),_:1}),e(g,{label:"目标位置",prop:"destination"},{default:s(()=>[e(f,{modelValue:l.destination,"onUpdate:modelValue":t[4]||(t[4]=a=>l.destination=a),placeholder:"请输入目标位置"},null,8,["modelValue"])]),_:1}),e(g,{label:"数据大小",prop:"size"},{default:s(()=>[e(f,{modelValue:l.size,"onUpdate:modelValue":t[5]||(t[5]=a=>l.size=a),placeholder:"例如: 500GB"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}}),ne=K(ae,[["__scopeId","data-v-22597caa"]]);export{ne as default};
