import{d as L,r as c,a as U,D as P,c as O,b as Z,e as a,w as s,f as d,i as G,j as y,t as H,M as J,E as C,o as Q}from"./index-mid6EVus.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"asset-container"},Y={class:"operation-bar"},ee={class:"pagination"},ae=L({__name:"index",setup(te){const f=c([{id:1,assetNo:"ZC2024001",name:"核心交换机-01",type:"网络设备",purchaseDate:"2025-05-10",warranty:"2026-01-10",vendor:"华为",price:"¥35000",status:"在用"},{id:2,assetNo:"ZC2024002",name:"应用服务器-01",type:"服务器",purchaseDate:"2025-05-15",warranty:"2026-02-15",vendor:"浪潮",price:"¥42000",status:"在用"},{id:3,assetNo:"ZC2024003",name:"存储阵列-01",type:"存储设备",purchaseDate:"2025-05-20",warranty:"2026-03-20",vendor:"华为",price:"¥60000",status:"闲置"},{id:4,assetNo:"ZC2024004",name:"防火墙-01",type:"安全设备",purchaseDate:"2025-05-05",warranty:"2026-04-05",vendor:"深信服",price:"¥25000",status:"在用"},{id:5,assetNo:"ZC2024005",name:"核心路由器-01",type:"网络设备",purchaseDate:"2025-05-12",warranty:"2026-05-12",vendor:"锐捷",price:"¥38000",status:"在用"},{id:6,assetNo:"ZC2024006",name:"应用服务器-02",type:"服务器",purchaseDate:"2025-05-18",warranty:"2026-06-18",vendor:"华为",price:"¥41000",status:"报废"},{id:7,assetNo:"ZC2024007",name:"备份存储-01",type:"存储设备",purchaseDate:"2025-05-22",warranty:"2026-07-22",vendor:"联想",price:"¥32000",status:"在用"},{id:8,assetNo:"ZC2024008",name:"负载均衡器-01",type:"网络设备",purchaseDate:"2025-05-30",warranty:"2026-08-30",vendor:"F5",price:"¥28000",status:"闲置"},{id:9,assetNo:"ZC2024009",name:"安全网关-01",type:"安全设备",purchaseDate:"2025-05-10",warranty:"2026-09-10",vendor:"深信服",price:"¥23000",status:"在用"},{id:10,assetNo:"ZC2024010",name:"分布式存储-01",type:"存储设备",purchaseDate:"2025-05-15",warranty:"2026-10-15",vendor:"华为",price:"¥65000",status:"在用"}]),k=c([]),n=U({keyword:"",type:""}),_=c(1),b=c(10),x=c(0),g=c(!1),w=c("add"),V=c(),l=U({id:0,assetNo:"",name:"",type:"",purchaseDate:"",warranty:"",vendor:"",price:"",status:"在用"}),q={assetNo:[{required:!0,message:"请输入资产编号",trigger:"blur"}],name:[{required:!0,message:"请输入资产名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],purchaseDate:[{required:!0,message:"请选择采购日期",trigger:"change"}],warranty:[{required:!0,message:"请选择保修到期",trigger:"change"}],vendor:[{required:!0,message:"请输入供应商",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},i=()=>{let o=[...f.value];n.keyword&&(o=o.filter(e=>e.name.includes(n.keyword)||e.assetNo.includes(n.keyword)||e.vendor.includes(n.keyword))),n.type&&(o=o.filter(e=>e.type===n.type)),x.value=o.length,k.value=o.slice((_.value-1)*b.value,_.value*b.value)},z=()=>{n.keyword="",n.type="",_.value=1,i()},S=()=>{w.value="add",g.value=!0,l.id=0,l.assetNo="",l.name="",l.type="",l.purchaseDate="",l.warranty="",l.vendor="",l.price="",l.status="在用"},B=o=>{w.value="edit",g.value=!0,Object.assign(l,o)},E=o=>{J.confirm("确定要删除该资产吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const e=f.value.findIndex(p=>p.id===o.id);e!==-1&&(f.value.splice(e,1),i(),C.success("删除成功"))})},F=async()=>{V.value&&await V.value.validate(o=>{if(o){if(w.value==="add"){const e={...l,id:Date.now()};f.value.unshift(e),i(),C.success("新增成功")}else{const e=f.value.findIndex(p=>p.id===l.id);e!==-1&&(f.value[e]={...l,id:l.id},i(),C.success("修改成功"))}g.value=!1}})},M=o=>{b.value=o,i()},T=o=>{_.value=o,i()};return P(()=>{i()}),(o,e)=>{const p=d("el-input"),u=d("el-form-item"),r=d("el-option"),h=d("el-select"),v=d("el-button"),D=d("el-form"),m=d("el-table-column"),j=d("el-tag"),A=d("el-table"),I=d("el-pagination"),R=d("el-card"),N=d("el-date-picker"),$=d("el-dialog");return Q(),O("div",X,[Z("div",Y,[a(D,{inline:!0,model:n,class:"search-form"},{default:s(()=>[a(u,null,{default:s(()=>[a(p,{modelValue:n.keyword,"onUpdate:modelValue":e[0]||(e[0]=t=>n.keyword=t),placeholder:"资产名称/编号/供应商",clearable:"",onKeyup:G(i,["enter"])},null,8,["modelValue"])]),_:1}),a(u,null,{default:s(()=>[a(h,{modelValue:n.type,"onUpdate:modelValue":e[1]||(e[1]=t=>n.type=t),placeholder:"资产类型",clearable:"",style:{width:"140px"}},{default:s(()=>[a(r,{label:"网络设备",value:"网络设备"}),a(r,{label:"服务器",value:"服务器"}),a(r,{label:"存储设备",value:"存储设备"}),a(r,{label:"安全设备",value:"安全设备"}),a(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),a(u,null,{default:s(()=>[a(v,{type:"primary",onClick:i},{default:s(()=>e[13]||(e[13]=[y("搜索")])),_:1,__:[13]}),a(v,{onClick:z},{default:s(()=>e[14]||(e[14]=[y("重置")])),_:1,__:[14]})]),_:1})]),_:1},8,["model"])]),a(R,{class:"asset-list"},{default:s(()=>[a(v,{type:"primary",onClick:S,style:{"margin-bottom":"12px"}},{default:s(()=>e[15]||(e[15]=[y("新增资产")])),_:1,__:[15]}),a(A,{data:k.value,border:"",style:{width:"100%"}},{default:s(()=>[a(m,{prop:"assetNo",label:"资产编号","min-width":"120"}),a(m,{prop:"name",label:"资产名称","min-width":"120"}),a(m,{prop:"type",label:"类型","min-width":"100"}),a(m,{prop:"purchaseDate",label:"采购日期","min-width":"120"}),a(m,{prop:"warranty",label:"保修到期","min-width":"120"}),a(m,{prop:"price",label:"价格","min-width":"100"}),a(m,{prop:"status",label:"状态","min-width":"100"},{default:s(({row:t})=>[a(j,{type:t.status==="在用"?"success":t.status==="报废"?"danger":"info"},{default:s(()=>[y(H(t.status),1)]),_:2},1032,["type"])]),_:1}),a(m,{label:"操作",width:"200"},{default:s(({row:t})=>[a(v,{type:"primary",link:"",onClick:K=>B(t)},{default:s(()=>e[16]||(e[16]=[y("编辑")])),_:2,__:[16]},1032,["onClick"]),a(v,{type:"danger",link:"",onClick:K=>E(t)},{default:s(()=>e[17]||(e[17]=[y("删除")])),_:2,__:[17]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Z("div",ee,[a(I,{"current-page":_.value,"onUpdate:currentPage":e[2]||(e[2]=t=>_.value=t),"page-size":b.value,"onUpdate:pageSize":e[3]||(e[3]=t=>b.value=t),"page-sizes":[10,20,50,100],total:x.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:M,onCurrentChange:T},null,8,["current-page","page-size","total"])])]),_:1}),a($,{modelValue:g.value,"onUpdate:modelValue":e[12]||(e[12]=t=>g.value=t),title:w.value==="add"?"新增资产":"编辑资产",width:"500px"},{footer:s(()=>[a(v,{onClick:e[11]||(e[11]=t=>g.value=!1)},{default:s(()=>e[18]||(e[18]=[y("取消")])),_:1,__:[18]}),a(v,{type:"primary",onClick:F},{default:s(()=>e[19]||(e[19]=[y("确定")])),_:1,__:[19]})]),default:s(()=>[a(D,{ref_key:"assetFormRef",ref:V,model:l,rules:q,"label-width":"90px"},{default:s(()=>[a(u,{label:"资产编号",prop:"assetNo"},{default:s(()=>[a(p,{modelValue:l.assetNo,"onUpdate:modelValue":e[4]||(e[4]=t=>l.assetNo=t),placeholder:"请输入资产编号"},null,8,["modelValue"])]),_:1}),a(u,{label:"资产名称",prop:"name"},{default:s(()=>[a(p,{modelValue:l.name,"onUpdate:modelValue":e[5]||(e[5]=t=>l.name=t),placeholder:"请输入资产名称"},null,8,["modelValue"])]),_:1}),a(u,{label:"类型",prop:"type"},{default:s(()=>[a(h,{modelValue:l.type,"onUpdate:modelValue":e[6]||(e[6]=t=>l.type=t),placeholder:"请选择类型",style:{width:"140px"}},{default:s(()=>[a(r,{label:"网络设备",value:"网络设备"}),a(r,{label:"服务器",value:"服务器"}),a(r,{label:"存储设备",value:"存储设备"}),a(r,{label:"安全设备",value:"安全设备"}),a(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"采购日期",prop:"purchaseDate"},{default:s(()=>[a(N,{modelValue:l.purchaseDate,"onUpdate:modelValue":e[7]||(e[7]=t=>l.purchaseDate=t),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(u,{label:"保修到期",prop:"warranty"},{default:s(()=>[a(N,{modelValue:l.warranty,"onUpdate:modelValue":e[8]||(e[8]=t=>l.warranty=t),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),a(u,{label:"价格",prop:"price"},{default:s(()=>[a(p,{modelValue:l.price,"onUpdate:modelValue":e[9]||(e[9]=t=>l.price=t),placeholder:"请输入价格"},null,8,["modelValue"])]),_:1}),a(u,{label:"状态",prop:"status"},{default:s(()=>[a(h,{modelValue:l.status,"onUpdate:modelValue":e[10]||(e[10]=t=>l.status=t),placeholder:"请选择状态",style:{width:"140px"}},{default:s(()=>[a(r,{label:"在用",value:"在用"}),a(r,{label:"闲置",value:"闲置"}),a(r,{label:"报废",value:"报废"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),oe=W(ae,[["__scopeId","data-v-682f0596"]]);export{oe as default};
