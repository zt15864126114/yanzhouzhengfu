import{d as le,r,A as ae,z as ne,e as se,j as e,b as l,a as u,l as S,B as oe,c as U,q as s,t as _,k as p,m as D,G as R,I as F,J as I,o as g}from"./index-Cn6PHfGL.js";import{i as O}from"./index-u3wYLQ4o.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";const ue={class:"device-container"},de={class:"card-header"},pe={class:"card-header"},re={class:"card-header"},me={class:"dialog-footer"},ce={class:"monitor-container"},_e={class:"monitor-header"},fe={class:"monitor-charts"},ye=le({__name:"index",setup(ve){const P=r("network"),C=r(!1),j=r([{id:1,name:"核心交换机-01",ip:"192.168.1.1",type:"switch",status:"online",lastCheck:"2024-03-15 14:30:00"},{id:2,name:"核心交换机-02",ip:"192.168.1.2",type:"switch",status:"online",lastCheck:"2024-03-15 14:30:00"},{id:3,name:"边界路由器-01",ip:"192.168.1.3",type:"router",status:"online",lastCheck:"2024-03-15 14:30:00"},{id:4,name:"防火墙-01",ip:"192.168.1.4",type:"firewall",status:"online",lastCheck:"2024-03-15 14:30:00"},{id:5,name:"负载均衡器-01",ip:"192.168.1.5",type:"loadbalancer",status:"maintenance",lastCheck:"2024-03-15 14:30:00"}]),q=r([{id:1,name:"应用服务器-01",ip:"192.168.1.10",cpu:45,memory:60,status:"running",lastCheck:"2024-03-15 14:30:00"},{id:2,name:"应用服务器-02",ip:"192.168.1.11",cpu:52,memory:68,status:"running",lastCheck:"2024-03-15 14:30:00"},{id:3,name:"数据库服务器-01",ip:"192.168.1.12",cpu:75,memory:85,status:"running",lastCheck:"2024-03-15 14:30:00"},{id:4,name:"数据库服务器-02",ip:"192.168.1.13",cpu:68,memory:78,status:"running",lastCheck:"2024-03-15 14:30:00"},{id:5,name:"缓存服务器-01",ip:"192.168.1.14",cpu:35,memory:45,status:"running",lastCheck:"2024-03-15 14:30:00"}]),G=r([{id:1,name:"主存储-01",type:"SAN",capacity:"50TB",used:65,status:"normal",lastCheck:"2024-03-15 14:30:00"},{id:2,name:"主存储-02",type:"SAN",capacity:"50TB",used:58,status:"normal",lastCheck:"2024-03-15 14:30:00"},{id:3,name:"备份存储-01",type:"NAS",capacity:"30TB",used:45,status:"normal",lastCheck:"2024-03-15 14:30:00"},{id:4,name:"备份存储-02",type:"NAS",capacity:"30TB",used:42,status:"normal",lastCheck:"2024-03-15 14:30:00"},{id:5,name:"归档存储-01",type:"NAS",capacity:"100TB",used:35,status:"normal",lastCheck:"2024-03-15 14:30:00"}]),c=r(!1),J=r(),n=ae({name:"",ip:"",type:"",description:""}),k=r(!1),f=r({}),E=r(),L=r(),H=()=>{c.value=!0,n.name="",n.ip="",n.type="",n.description=""},K=()=>{c.value=!0,n.name="",n.ip="",n.type="server",n.description=""},Q=()=>{c.value=!0,n.name="",n.ip="",n.type="storage",n.description=""},b=d=>{c.value=!0,Object.assign(n,d)},x=d=>{k.value=!0,f.value=d,setTimeout(()=>{Y()},100)},W=d=>{F.confirm(`确认重启设备"${d.name}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{I.success(`设备"${d.name}"重启命令已发送`)})},V=d=>{F.confirm(`确认删除设备"${d.name}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{I.success(`设备"${d.name}"已删除`)})},X=()=>{c.value=!1,I.success("配置已保存")},Y=()=>{const d=O(E.value);d.setOption({title:{text:"CPU使用率"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"]},yAxis:{type:"value",max:100},series:[{data:[30,40,35,50,45,60,55,45],type:"line",smooth:!0}]});const t=O(L.value);t.setOption({title:{text:"内存使用率"},tooltip:{trigger:"axis"},xAxis:{type:"category",data:["00:00","03:00","06:00","09:00","12:00","15:00","18:00","21:00"]},yAxis:{type:"value",max:100},series:[{data:[50,55,60,65,70,65,60,55],type:"line",smooth:!0}]}),window.addEventListener("resize",()=>{d.resize(),t.resize()})};return ne(()=>{}),(d,t)=>{const h=u("el-icon"),i=u("el-button"),o=u("el-table-column"),y=u("el-tag"),B=u("el-table"),$=u("el-card"),z=u("el-tab-pane"),A=u("el-progress"),Z=u("el-tabs"),T=u("el-input"),v=u("el-form-item"),w=u("el-option"),ee=u("el-select"),te=u("el-form"),M=u("el-dialog"),N=oe("loading");return g(),se("div",ue,[e(Z,{modelValue:P.value,"onUpdate:modelValue":t[0]||(t[0]=a=>P.value=a)},{default:l(()=>[e(z,{label:"网络设备",name:"network"},{default:l(()=>[e($,null,{header:l(()=>[p("div",de,[t[9]||(t[9]=p("span",null,"网络设备列表",-1)),e(i,{type:"primary",onClick:H},{default:l(()=>[e(h,null,{default:l(()=>[e(D(R))]),_:1}),t[8]||(t[8]=s("添加设备 "))]),_:1,__:[8]})])]),default:l(()=>[S((g(),U(B,{data:j.value,style:{width:"100%"}},{default:l(()=>[e(o,{prop:"name",label:"设备名称"}),e(o,{prop:"ip",label:"IP地址"}),e(o,{prop:"type",label:"设备类型"}),e(o,{prop:"status",label:"状态"},{default:l(({row:a})=>[e(y,{type:a.status==="online"?"success":"danger"},{default:l(()=>[s(_(a.status==="online"?"在线":"离线"),1)]),_:2},1032,["type"])]),_:1}),e(o,{prop:"lastCheck",label:"最后检查时间"}),e(o,{label:"操作",width:"250"},{default:l(({row:a})=>[e(i,{type:"primary",size:"small",onClick:m=>b(a)},{default:l(()=>t[10]||(t[10]=[s("配置")])),_:2,__:[10]},1032,["onClick"]),e(i,{type:"success",size:"small",onClick:m=>x(a)},{default:l(()=>t[11]||(t[11]=[s("监控")])),_:2,__:[11]},1032,["onClick"]),e(i,{type:"danger",size:"small",onClick:m=>V(a)},{default:l(()=>t[12]||(t[12]=[s("删除")])),_:2,__:[12]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[N,C.value]])]),_:1})]),_:1}),e(z,{label:"服务器设备",name:"server"},{default:l(()=>[e($,null,{header:l(()=>[p("div",pe,[t[14]||(t[14]=p("span",null,"服务器设备列表",-1)),e(i,{type:"primary",onClick:K},{default:l(()=>[e(h,null,{default:l(()=>[e(D(R))]),_:1}),t[13]||(t[13]=s("添加服务器 "))]),_:1,__:[13]})])]),default:l(()=>[S((g(),U(B,{data:q.value,style:{width:"100%"}},{default:l(()=>[e(o,{prop:"name",label:"服务器名称"}),e(o,{prop:"ip",label:"IP地址"}),e(o,{prop:"cpu",label:"CPU使用率"},{default:l(({row:a})=>[e(A,{percentage:a.cpu,status:a.cpu>80?"exception":""},null,8,["percentage","status"])]),_:1}),e(o,{prop:"memory",label:"内存使用率"},{default:l(({row:a})=>[e(A,{percentage:a.memory,status:a.memory>80?"exception":""},null,8,["percentage","status"])]),_:1}),e(o,{prop:"status",label:"状态"},{default:l(({row:a})=>[e(y,{type:a.status==="running"?"success":"danger"},{default:l(()=>[s(_(a.status==="running"?"运行中":"已停止"),1)]),_:2},1032,["type"])]),_:1}),e(o,{label:"操作",width:"300"},{default:l(({row:a})=>[e(i,{type:"primary",size:"small",onClick:m=>b(a)},{default:l(()=>t[15]||(t[15]=[s("配置")])),_:2,__:[15]},1032,["onClick"]),e(i,{type:"success",size:"small",onClick:m=>x(a)},{default:l(()=>t[16]||(t[16]=[s("监控")])),_:2,__:[16]},1032,["onClick"]),e(i,{type:"warning",size:"small",onClick:m=>W(a)},{default:l(()=>t[17]||(t[17]=[s("重启")])),_:2,__:[17]},1032,["onClick"]),e(i,{type:"danger",size:"small",onClick:m=>V(a)},{default:l(()=>t[18]||(t[18]=[s("删除")])),_:2,__:[18]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[N,C.value]])]),_:1})]),_:1}),e(z,{label:"存储设备",name:"storage"},{default:l(()=>[e($,null,{header:l(()=>[p("div",re,[t[20]||(t[20]=p("span",null,"存储设备列表",-1)),e(i,{type:"primary",onClick:Q},{default:l(()=>[e(h,null,{default:l(()=>[e(D(R))]),_:1}),t[19]||(t[19]=s("添加存储 "))]),_:1,__:[19]})])]),default:l(()=>[S((g(),U(B,{data:G.value,style:{width:"100%"}},{default:l(()=>[e(o,{prop:"name",label:"存储名称"}),e(o,{prop:"type",label:"存储类型"}),e(o,{prop:"capacity",label:"总容量"}),e(o,{prop:"used",label:"已用容量"},{default:l(({row:a})=>[e(A,{percentage:a.used,status:a.used>80?"exception":""},null,8,["percentage","status"])]),_:1}),e(o,{prop:"status",label:"状态"},{default:l(({row:a})=>[e(y,{type:a.status==="normal"?"success":"danger"},{default:l(()=>[s(_(a.status==="normal"?"正常":"异常"),1)]),_:2},1032,["type"])]),_:1}),e(o,{label:"操作",width:"250"},{default:l(({row:a})=>[e(i,{type:"primary",size:"small",onClick:m=>b(a)},{default:l(()=>t[21]||(t[21]=[s("配置")])),_:2,__:[21]},1032,["onClick"]),e(i,{type:"success",size:"small",onClick:m=>x(a)},{default:l(()=>t[22]||(t[22]=[s("监控")])),_:2,__:[22]},1032,["onClick"]),e(i,{type:"danger",size:"small",onClick:m=>V(a)},{default:l(()=>t[23]||(t[23]=[s("删除")])),_:2,__:[23]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[N,C.value]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(M,{modelValue:c.value,"onUpdate:modelValue":t[6]||(t[6]=a=>c.value=a),title:"设备配置",width:"600px"},{footer:l(()=>[p("span",me,[e(i,{onClick:t[5]||(t[5]=a=>c.value=!1)},{default:l(()=>t[24]||(t[24]=[s("取消")])),_:1,__:[24]}),e(i,{type:"primary",onClick:X},{default:l(()=>t[25]||(t[25]=[s("确定")])),_:1,__:[25]})])]),default:l(()=>[e(te,{ref_key:"configFormRef",ref:J,model:n,"label-width":"100px"},{default:l(()=>[e(v,{label:"设备名称"},{default:l(()=>[e(T,{modelValue:n.name,"onUpdate:modelValue":t[1]||(t[1]=a=>n.name=a)},null,8,["modelValue"])]),_:1}),e(v,{label:"IP地址"},{default:l(()=>[e(T,{modelValue:n.ip,"onUpdate:modelValue":t[2]||(t[2]=a=>n.ip=a)},null,8,["modelValue"])]),_:1}),e(v,{label:"设备类型"},{default:l(()=>[e(ee,{modelValue:n.type,"onUpdate:modelValue":t[3]||(t[3]=a=>n.type=a),placeholder:"请选择设备类型"},{default:l(()=>[e(w,{label:"交换机",value:"switch"}),e(w,{label:"路由器",value:"router"}),e(w,{label:"防火墙",value:"firewall"})]),_:1},8,["modelValue"])]),_:1}),e(v,{label:"描述"},{default:l(()=>[e(T,{modelValue:n.description,"onUpdate:modelValue":t[4]||(t[4]=a=>n.description=a),type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(M,{modelValue:k.value,"onUpdate:modelValue":t[7]||(t[7]=a=>k.value=a),title:"设备监控",width:"800px"},{default:l(()=>[p("div",ce,[p("div",_e,[p("h3",null,_(f.value.name),1),e(y,{type:f.value.status==="online"?"success":"danger"},{default:l(()=>[s(_(f.value.status==="online"?"在线":"离线"),1)]),_:1},8,["type"])]),p("div",fe,[p("div",{ref_key:"cpuChartRef",ref:E,class:"chart"},null,512),p("div",{ref_key:"memoryChartRef",ref:L,class:"chart"},null,512)])])]),_:1},8,["modelValue"])])}}}),be=ie(ye,[["__scopeId","data-v-3dcbde29"]]);export{be as default};
