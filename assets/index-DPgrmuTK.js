import{d as L,r as d,a as k,c as h,b as p,e as l,w as o,f as a,u as j,o as I,g as i,h as R,i as M,l as U,j as f,p as $,E as F}from"./index-74taGsw4.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const D={class:"login-container"},G=L({__name:"index",setup(H){const q=j(),g=d(),c=d(),_=d(!1),b=d(!1),V=d("login"),t=k({username:"",password:"",remember:!1}),n=k({username:"",password:"",phone:""}),C={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},T={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能小于 6 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的手机号",trigger:"blur"}]},v=async()=>{g.value&&await g.value.validate(m=>{m&&(_.value=!0,setTimeout(()=>{_.value=!1,F.success("登录成功"),q.push("/dashboard")},1e3))})},B=async()=>{c.value&&await c.value.validate(m=>{m&&(b.value=!0,setTimeout(()=>{b.value=!1,F.success("注册成功，请查收激活链接"),V.value="login"},1e3))})};return(m,e)=>{const u=a("el-input"),r=a("el-form-item"),E=a("el-checkbox"),N=a("el-link"),w=a("el-button"),x=a("el-form"),y=a("el-tab-pane"),z=a("el-tabs"),K=a("el-card");return I(),h("div",D,[e[12]||(e[12]=p("div",{class:"login-background"},null,-1)),l(K,{class:"login-card"},{header:o(()=>e[7]||(e[7]=[p("div",{class:"card-header"},[p("h2",null,"超融合平台"),p("p",{class:"subtitle"},"智慧城市 · 数字政务")],-1)])),default:o(()=>[l(z,{modelValue:V.value,"onUpdate:modelValue":e[6]||(e[6]=s=>V.value=s),class:"login-tabs"},{default:o(()=>[l(y,{label:"登录",name:"login"},{default:o(()=>[l(x,{ref_key:"loginFormRef",ref:g,model:t,rules:C,"label-width":"0",size:"large",class:"login-form"},{default:o(()=>[l(r,{prop:"username"},{default:o(()=>[l(u,{modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=s=>t.username=s),placeholder:"用户名","prefix-icon":i(R),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"password"},{default:o(()=>[l(u,{modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=s=>t.password=s),type:"password",placeholder:"密码","prefix-icon":i(U),onKeyup:M(v,["enter"]),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{class:"remember-forgot"},{default:o(()=>[l(E,{modelValue:t.remember,"onUpdate:modelValue":e[2]||(e[2]=s=>t.remember=s)},{default:o(()=>e[8]||(e[8]=[f("记住密码")])),_:1,__:[8]},8,["modelValue"]),l(N,{type:"primary",class:"forgot-password"},{default:o(()=>e[9]||(e[9]=[f("忘记密码？")])),_:1,__:[9]})]),_:1}),l(r,null,{default:o(()=>[l(w,{loading:_.value,type:"primary",class:"login-button",onClick:v},{default:o(()=>e[10]||(e[10]=[f(" 登录 ")])),_:1,__:[10]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1}),l(y,{label:"注册",name:"register"},{default:o(()=>[l(x,{ref_key:"registerFormRef",ref:c,model:n,rules:T,"label-width":"0",size:"large",class:"register-form"},{default:o(()=>[l(r,{prop:"username"},{default:o(()=>[l(u,{modelValue:n.username,"onUpdate:modelValue":e[3]||(e[3]=s=>n.username=s),placeholder:"用户名","prefix-icon":i(R),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"password"},{default:o(()=>[l(u,{modelValue:n.password,"onUpdate:modelValue":e[4]||(e[4]=s=>n.password=s),type:"password",placeholder:"密码","prefix-icon":i(U),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,{prop:"phone"},{default:o(()=>[l(u,{modelValue:n.phone,"onUpdate:modelValue":e[5]||(e[5]=s=>n.phone=s),placeholder:"手机号","prefix-icon":i($),class:"custom-input"},null,8,["modelValue","prefix-icon"])]),_:1}),l(r,null,{default:o(()=>[l(w,{loading:b.value,type:"primary",class:"register-button",onClick:B},{default:o(()=>e[11]||(e[11]=[f(" 注册 ")])),_:1,__:[11]},8,["loading"])]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}}),P=A(G,[["__scopeId","data-v-ad7ea211"]]);export{P as default};
