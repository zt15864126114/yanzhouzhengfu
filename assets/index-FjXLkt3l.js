import{d as L,r as c,a as U,D as P,c as O,b as Z,e,w as o,f as d,i as G,j as y,t as H,M as J,E as C,o as Q}from"./index-BJDuJlt9.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X={class:"asset-container"},Y={class:"operation-bar"},ee={class:"pagination"},ae=L({__name:"index",setup(te){const f=c([{id:1,assetNo:"ZC2024001",name:"核心交换机-01",type:"网络设备",purchaseDate:"2025-01-10",warranty:"2026-01-10",vendor:"华为",price:"¥35000",status:"在用"},{id:2,assetNo:"ZC2024002",name:"应用服务器-01",type:"服务器",purchaseDate:"2025-02-15",warranty:"2026-02-15",vendor:"浪潮",price:"¥42000",status:"在用"},{id:3,assetNo:"ZC2024003",name:"存储阵列-01",type:"存储设备",purchaseDate:"2025-03-20",warranty:"2026-03-20",vendor:"华为",price:"¥60000",status:"闲置"},{id:4,assetNo:"ZC2024004",name:"防火墙-01",type:"安全设备",purchaseDate:"2025-04-05",warranty:"2026-04-05",vendor:"深信服",price:"¥25000",status:"在用"},{id:5,assetNo:"ZC2024005",name:"核心路由器-01",type:"网络设备",purchaseDate:"2025-05-12",warranty:"2026-05-12",vendor:"锐捷",price:"¥38000",status:"在用"},{id:6,assetNo:"ZC2024006",name:"应用服务器-02",type:"服务器",purchaseDate:"2025-06-18",warranty:"2026-06-18",vendor:"华为",price:"¥41000",status:"报废"},{id:7,assetNo:"ZC2024007",name:"备份存储-01",type:"存储设备",purchaseDate:"2025-07-22",warranty:"2026-07-22",vendor:"联想",price:"¥32000",status:"在用"},{id:8,assetNo:"ZC2024008",name:"负载均衡器-01",type:"网络设备",purchaseDate:"2025-08-30",warranty:"2026-08-30",vendor:"F5",price:"¥28000",status:"闲置"},{id:9,assetNo:"ZC2024009",name:"安全网关-01",type:"安全设备",purchaseDate:"2025-09-10",warranty:"2026-09-10",vendor:"深信服",price:"¥23000",status:"在用"},{id:10,assetNo:"ZC2024010",name:"分布式存储-01",type:"存储设备",purchaseDate:"2025-10-15",warranty:"2026-10-15",vendor:"华为",price:"¥65000",status:"在用"}]),k=c([]),n=U({keyword:"",type:""}),_=c(1),b=c(10),x=c(0),g=c(!1),w=c("add"),V=c(),l=U({id:0,assetNo:"",name:"",type:"",purchaseDate:"",warranty:"",vendor:"",price:"",status:"在用"}),q={assetNo:[{required:!0,message:"请输入资产编号",trigger:"blur"}],name:[{required:!0,message:"请输入资产名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],purchaseDate:[{required:!0,message:"请选择采购日期",trigger:"change"}],warranty:[{required:!0,message:"请选择保修到期",trigger:"change"}],vendor:[{required:!0,message:"请输入供应商",trigger:"blur"}],price:[{required:!0,message:"请输入价格",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},p=()=>{let s=[...f.value];n.keyword&&(s=s.filter(a=>a.name.includes(n.keyword)||a.assetNo.includes(n.keyword)||a.vendor.includes(n.keyword))),n.type&&(s=s.filter(a=>a.type===n.type)),x.value=s.length,k.value=s.slice((_.value-1)*b.value,_.value*b.value)},z=()=>{n.keyword="",n.type="",_.value=1,p()},S=()=>{w.value="add",g.value=!0,l.id=0,l.assetNo="",l.name="",l.type="",l.purchaseDate="",l.warranty="",l.vendor="",l.price="",l.status="在用"},B=s=>{w.value="edit",g.value=!0,Object.assign(l,s)},E=s=>{J.confirm("确定要删除该资产吗？","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const a=f.value.findIndex(i=>i.id===s.id);a!==-1&&(f.value.splice(a,1),p(),C.success("删除成功"))})},F=async()=>{V.value&&await V.value.validate(s=>{if(s){if(w.value==="add"){const a={...l,id:Date.now()};f.value.unshift(a),p(),C.success("新增成功")}else{const a=f.value.findIndex(i=>i.id===l.id);a!==-1&&(f.value[a]={...l,id:l.id},p(),C.success("修改成功"))}g.value=!1}})},M=s=>{b.value=s,p()},T=s=>{_.value=s,p()};return P(()=>{p()}),(s,a)=>{const i=d("el-input"),u=d("el-form-item"),r=d("el-option"),h=d("el-select"),v=d("el-button"),D=d("el-form"),m=d("el-table-column"),j=d("el-tag"),A=d("el-table"),I=d("el-pagination"),R=d("el-card"),N=d("el-date-picker"),$=d("el-dialog");return Q(),O("div",X,[Z("div",Y,[e(D,{inline:!0,model:n,class:"search-form"},{default:o(()=>[e(u,null,{default:o(()=>[e(i,{modelValue:n.keyword,"onUpdate:modelValue":a[0]||(a[0]=t=>n.keyword=t),placeholder:"资产名称/编号/供应商",clearable:"",onKeyup:G(p,["enter"])},null,8,["modelValue"])]),_:1}),e(u,null,{default:o(()=>[e(h,{modelValue:n.type,"onUpdate:modelValue":a[1]||(a[1]=t=>n.type=t),placeholder:"资产类型",clearable:"",style:{width:"140px"}},{default:o(()=>[e(r,{label:"网络设备",value:"网络设备"}),e(r,{label:"服务器",value:"服务器"}),e(r,{label:"存储设备",value:"存储设备"}),e(r,{label:"安全设备",value:"安全设备"}),e(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),e(u,null,{default:o(()=>[e(v,{type:"primary",onClick:p},{default:o(()=>a[14]||(a[14]=[y("搜索")])),_:1,__:[14]}),e(v,{onClick:z},{default:o(()=>a[15]||(a[15]=[y("重置")])),_:1,__:[15]})]),_:1})]),_:1},8,["model"])]),e(R,{class:"asset-list"},{default:o(()=>[e(v,{type:"primary",onClick:S,style:{"margin-bottom":"12px"}},{default:o(()=>a[16]||(a[16]=[y("新增资产")])),_:1,__:[16]}),e(A,{data:k.value,border:"",style:{width:"100%"}},{default:o(()=>[e(m,{prop:"assetNo",label:"资产编号","min-width":"120"}),e(m,{prop:"name",label:"资产名称","min-width":"120"}),e(m,{prop:"type",label:"类型","min-width":"100"}),e(m,{prop:"purchaseDate",label:"采购日期","min-width":"120"}),e(m,{prop:"warranty",label:"保修到期","min-width":"120"}),e(m,{prop:"vendor",label:"供应商","min-width":"120"}),e(m,{prop:"price",label:"价格","min-width":"100"}),e(m,{prop:"status",label:"状态","min-width":"100"},{default:o(({row:t})=>[e(j,{type:t.status==="在用"?"success":t.status==="报废"?"danger":"info"},{default:o(()=>[y(H(t.status),1)]),_:2},1032,["type"])]),_:1}),e(m,{label:"操作",width:"200"},{default:o(({row:t})=>[e(v,{type:"primary",link:"",onClick:K=>B(t)},{default:o(()=>a[17]||(a[17]=[y("编辑")])),_:2,__:[17]},1032,["onClick"]),e(v,{type:"danger",link:"",onClick:K=>E(t)},{default:o(()=>a[18]||(a[18]=[y("删除")])),_:2,__:[18]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Z("div",ee,[e(I,{"current-page":_.value,"onUpdate:currentPage":a[2]||(a[2]=t=>_.value=t),"page-size":b.value,"onUpdate:pageSize":a[3]||(a[3]=t=>b.value=t),"page-sizes":[10,20,50,100],total:x.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:M,onCurrentChange:T},null,8,["current-page","page-size","total"])])]),_:1}),e($,{modelValue:g.value,"onUpdate:modelValue":a[13]||(a[13]=t=>g.value=t),title:w.value==="add"?"新增资产":"编辑资产",width:"500px"},{footer:o(()=>[e(v,{onClick:a[12]||(a[12]=t=>g.value=!1)},{default:o(()=>a[19]||(a[19]=[y("取消")])),_:1,__:[19]}),e(v,{type:"primary",onClick:F},{default:o(()=>a[20]||(a[20]=[y("确定")])),_:1,__:[20]})]),default:o(()=>[e(D,{ref_key:"assetFormRef",ref:V,model:l,rules:q,"label-width":"90px"},{default:o(()=>[e(u,{label:"资产编号",prop:"assetNo"},{default:o(()=>[e(i,{modelValue:l.assetNo,"onUpdate:modelValue":a[4]||(a[4]=t=>l.assetNo=t),placeholder:"请输入资产编号"},null,8,["modelValue"])]),_:1}),e(u,{label:"资产名称",prop:"name"},{default:o(()=>[e(i,{modelValue:l.name,"onUpdate:modelValue":a[5]||(a[5]=t=>l.name=t),placeholder:"请输入资产名称"},null,8,["modelValue"])]),_:1}),e(u,{label:"类型",prop:"type"},{default:o(()=>[e(h,{modelValue:l.type,"onUpdate:modelValue":a[6]||(a[6]=t=>l.type=t),placeholder:"请选择类型",style:{width:"140px"}},{default:o(()=>[e(r,{label:"网络设备",value:"网络设备"}),e(r,{label:"服务器",value:"服务器"}),e(r,{label:"存储设备",value:"存储设备"}),e(r,{label:"安全设备",value:"安全设备"}),e(r,{label:"其他",value:"其他"})]),_:1},8,["modelValue"])]),_:1}),e(u,{label:"采购日期",prop:"purchaseDate"},{default:o(()=>[e(N,{modelValue:l.purchaseDate,"onUpdate:modelValue":a[7]||(a[7]=t=>l.purchaseDate=t),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(u,{label:"保修到期",prop:"warranty"},{default:o(()=>[e(N,{modelValue:l.warranty,"onUpdate:modelValue":a[8]||(a[8]=t=>l.warranty=t),type:"date",placeholder:"选择日期",style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(u,{label:"供应商",prop:"vendor"},{default:o(()=>[e(i,{modelValue:l.vendor,"onUpdate:modelValue":a[9]||(a[9]=t=>l.vendor=t),placeholder:"请输入供应商"},null,8,["modelValue"])]),_:1}),e(u,{label:"价格",prop:"price"},{default:o(()=>[e(i,{modelValue:l.price,"onUpdate:modelValue":a[10]||(a[10]=t=>l.price=t),placeholder:"请输入价格"},null,8,["modelValue"])]),_:1}),e(u,{label:"状态",prop:"status"},{default:o(()=>[e(h,{modelValue:l.status,"onUpdate:modelValue":a[11]||(a[11]=t=>l.status=t),placeholder:"请选择状态",style:{width:"140px"}},{default:o(()=>[e(r,{label:"在用",value:"在用"}),e(r,{label:"闲置",value:"闲置"}),e(r,{label:"报废",value:"报废"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),se=W(ae,[["__scopeId","data-v-e61a1b12"]]);export{se as default};
